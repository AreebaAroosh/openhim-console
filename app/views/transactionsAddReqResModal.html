<div class="modal-header">
  <button type="button" class="close" ng-click="cancel()" aria-hidden="true">&times;</button>
  <h3 class="modal-title" ng-show="!viewFullBody"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;&nbsp;{{record.name}}</h3>
  <h3 class="modal-title" ng-show="viewFullBody"><i class="glyphicon glyphicon-list-alt"></i>&nbsp;&nbsp;{{record.name}}: {{viewFullBodyType}} Body</h3>
</div>

<div class="modal-body" style="width: 100%; display: inline-block;">
  <div class="route-detail-container" ng-show="!viewFullBody">
    <label style="margin-top: 0px;">Request: </label>
    <div class="data-group left-indent">
      <label>Path: </label>
      <div class="data-value">{{record.request.path}}</div>
    </div>
    <div class="data-group left-indent">
      <label>Parameters: </label>
      <div class="data-value">{{record.request.querystring}}</div>
    </div>
    <div class="data-group left-indent">
      <label>HTTP Method: </label>
      <div class="data-value">{{record.request.method}}</div>
    </div>
    <div class="data-group left-indent">
      <label>Timestamp: </label>
      <div class="data-value">{{record.request.timestamp | date:'yyyy-MM-dd HH:mm:ss Z'}}</div>
    </div>
    <div class="data-group left-indent" ng-if="record.request.body"><label>Body:</label></div>
    <div class="data-group left-indent" ng-if="record.request.body">
      <div class="data-value">
        <textarea rows="5">{{record.request.body}}</textarea>
      </div>
      <!-- show only if record has request body -->
      <button type="button" class="btn btn-primary" ng-click="toggleFullView('Request', record.request.body)" style="float: right; margin-top: 10px;">
        <span ng-show="!viewFullBody">View Full Request Body</span>
      </button>
    </div>

    <label>Response: </label>
    <div class="data-group left-indent">
      <label>Status: </label>
      <div class="data-value">{{record.response.status}}</div>
    </div>
    <div class="data-group left-indent">
      <label>Timestamp: </label>
      <div class="data-value">{{record.response.timestamp | date:'yyyy-MM-dd HH:mm:ss Z'}}</div>
    </div>
    <div class="data-group left-indent" ng-if="record.response.body"><label>Body:</label></div>
    <div class="data-group left-indent" ng-if="record.response.body">
      <div class="data-value">
        <textarea rows="5">{{record.response.body}}</textarea>
      </div>
      <!-- show only if record has response body -->
      <button type="button" class="btn btn-primary" ng-click="toggleFullView('Response', record.response.body)" style="float: right; margin-top: 10px;">
        <span>View Full Response Body</span>
      </button>
    </div>

    <label ng-show="record.orchestrations">Orchestrations: </label>
    <div ng-show="record.orchestrations" id="no-more-tables" class="data-group left-indent">
      <div class="data-value">
        <!-- Table with all the orchestrations -->
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Name</th>
              <th>Method</th>
              <th>Path</th>                      
              <th>Request Params</th>
              <th>Status</th>
              <th>Response Time</th>
            </tr>
          </thead>
          <tbody>
            <tr class="table-list" ng-repeat="orchestration in record.orchestrations" ng-click='viewAddReqResDetails(orchestration)'>
              <td data-title="Name">{{ orchestration.name }}</td>
              <td data-title="Method">{{ orchestration.request.method }}</td>
              <td data-title="Path">{{ orchestration.request.path }}</td>
              <td data-title="Request Params">{{ orchestration.request.querystring }}</td>
              <td data-title="Status">{{ orchestration.response.status }}</td>
              <td data-title="Response Time">{{ orchestration.response.timestamp | date:'yyyy-MM-dd HH:mm:ss Z' }}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>


    <label ng-show="record.properties">Properties: </label>
    <div class="data-group left-indent">
      <div class="data-value">
        <div class="content-box-large default-labels-box" ng-repeat="(key, property) in record.properties">
          {{key}}: <strong>{{property}}</strong>
        </div>  
      </div>
    </div>
    
  </div>



  <div class="route-detail-container" ng-show="viewFullBody">
    <div class="data-group left-indent">
      <div class="data-value" style="padding-left: 0">
        <textarea rows="25">{{viewFullBodyContent}}</textarea>
      </div>
    </div>
    <!-- show only if full body is show -->
    <button ng-if="viewFullBody" type="button" class="btn btn-primary" ng-click="toggleFullView()" style="float: right; margin-top: 10px;">
      <span>View Details</span>
    </button>
  </div>

  

</div>

<div class="modal-footer">
  <button type="button" class="btn btn-default" ng-click="cancel()">Close</button>
</div>