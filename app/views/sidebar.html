<!-- $rooScope.userGroupAdmin is configured in scripts/app.js -->

<div class="scollNavAnchor"></div>
<div ng-controller="SidebarCtrl" class="col-md-2 col-xs-6 col-sm-3 scollNav" role="navigation" >
  <div class="sidebar content-box" style="display: block;">
    <ul class="nav">
      <!-- Main menu -->
      <li ng-class="{current: isCurrent('/')}"><a href="#"><i class="glyphicon glyphicon-home"></i> Dashboard</a></li>
      <li ng-class="{current: isCurrent('/transactions')}"><a href="#/transactions"><i class="glyphicon glyphicon-list-alt"></i> Transaction log</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/clients')}"><a href="#/clients"><i class="glyphicon glyphicon-th"></i> Clients</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/channels')}"><a href="#/channels"><i class="glyphicon glyphicon-random"></i> Channels</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/tasks')}"><a href="#/tasks"><i class="glyphicon glyphicon-repeat"></i> Tasks</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/visualizer')}"><a href="#/visualizer"><i class="glyphicon glyphicon-road"></i> Visualizer</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/groups')}"><a href="#/groups"><i class="glyphicon glyphicon-tasks"></i> Groups</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/mediators')}"><a href="#/mediators"><i class="glyphicon glyphicon-link"></i> Mediators</a></li>
      <li ng-if="userGroupAdmin" ng-class="{current: isCurrent('/users')}"><a href="#/users"><i class="glyphicon glyphicon-user"></i> Users</a></li>
      <!-- config page doesn't exist yet, uncomment when ready -->
      <!-- <li ng-class="{current: isCurrent('/config')}"><a href="#/config"><i class="glyphicon glyphicon-cog"></i> Config</a></li> -->
    </ul>
  </div>
</div>


<script>
  // This function will be executed when the user scrolls the page.
  $(window).scroll(function(e) {
    // Get the position of the location where the scroller starts.
    var scroller_anchor = $(".scollNavAnchor").offset().top;
    if ( scroller_anchor >= 60 ){
      $(".scollNav").css("position", "fixed");
      $(".scollNav").css("top", "20px");
    }else{
      $(".scollNav").removeAttr( 'style' );
    }
  })
</script>
